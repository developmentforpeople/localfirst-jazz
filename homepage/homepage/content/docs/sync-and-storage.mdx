import { ContentByFramework, CodeGroup } from '@/components/forMdx'

export const metadata = { 
  description: "Learn how to sync and persist your data using Jazz Cloud, or run your own sync server."
};

# Sync and storage

For sync and storage, you can either use Jazz Cloud for zero-config magic, or run your own sync server.

## Using Jazz Cloud

To get your Jazz Cloud API key, create an account on [dashboard.jazz.tools](https://dashboard.jazz.tools).

It will generate an app with an API key for you.

![Jazz Cloud screenshot with API key generated](/jazz-cloud-api-key.png)

In your `JazzProvider`, replace the API key in the sync server URL with your API key.

<ContentByFramework framework={["vue", "svelte", "react-native", "react-native-expo", "vanilla"]}>
<CodeGroup>
```
wss://cloud.jazz.tools/?key=YOUR_API_KEY
```
</CodeGroup>
</ContentByFramework>

<ContentByFramework framework="react">
<CodeGroup>
```tsx twoslash
import * as React from "react";
import { JazzProvider } from "jazz-react";
// ---cut---
export function MyApp({ children }: { children: React.ReactNode }) {
  return (
    <JazzProvider
      sync={{
        peer: "wss://cloud.jazz.tools/?key=YOUR_API_KEY",
        // ...
      }}
    >
      {children}
    </JazzProvider>
  );
}
```
</CodeGroup>
</ContentByFramework>

Jazz Cloud will
- sync CoValues in real-time between users and devices
- safely persist CoValues on redundant storage nodes with additional backups
- make use of geographically distributed cache nodes for low latency

### Free public alpha

- Jazz Cloud is free during the public alpha, with no strict usage limits
- We plan to keep a free tier, so you'll always be able to get started with zero setup
- See [Jazz Cloud pricing](/cloud#pricing) for more details

## Running your own sync server

You can run your own sync server using:

<CodeGroup>
```sh
npx jazz-run sync
```
</CodeGroup>

And then use `ws://localhost:4200` as the sync server URL.

You can also run this simple sync server behind a proxy that supports WebSockets, for example to provide TLS.
In this case, provide the WebSocket endpoint your proxy exposes as the sync server URL.

### Command line options:

- `--port` / `-p` - the port to run the sync server on. Defaults to 4200.
- `--in-memory` - keep CoValues in-memory only and do sync only, no persistence. Persistence is enabled by default.
- `--db` - the path to the file where to store the data (SQLite). Defaults to `sync-db/storage.db`.

### Source code

The implementation of this simple sync server is available open-source [on GitHub](https://github.com/garden-co/jazz/blob/main/packages/jazz-run/src/startSyncServer.ts).
